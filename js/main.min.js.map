{"version":3,"sources":["src/scripts/background.ts","src/scripts/form.ts","src/scripts/header.ts","src/scripts/menu.ts","src/scripts/main.ts","src/scripts/posts.ts"],"names":["makeBackgrounds","body","webPImg","Image","src","onload","onerror","height","classList","add","initForm","form","document","querySelector","alert","alertText","alertExitBtn","errorFieldClassName","errorAlertClassName","successAlertClassName","showAlertClassName","successAlertText","errorAlertText","showHelper","type","hideHelper","innerText","remove","addEventListener","e","preventDefault","submitBtn","disabled","formValues","formFields","Array","from","children","forEach","element","key","id","value","validationFields","values","check","trim","getElementById","console","log","tabletWidth","headerInit","header","hero","mobHeaderHeight","headerHeight","headerStaticClassName","headerFixedClassName","getHeaderHeight","window","innerWidth","addHeroStyles","paddingTop","style","addHeaderClassName","addClassName","removeClassName","checkHeaderClassName","cn","className","includes","scrollHandler","scrollY","innerHeight","initMenu","menuBtn","menu","menuActiveClassName","activeLinkClassName","btns","querySelectorAll","inputs","textAreas","sectionLinks","headerLinks","closeMenu","disabledForElements","elements","tabIndex","i","length","hideMenu","overflowY","activeLink","targetEl","target","tagName","el","getComputedStyle","postsInit","posts","date","theme","title","text","jpgImg","webpImg","generatePostTemplate","post","sep","indexOf","firstP","substring","secondP","concat","toLowerCase","postCount","count","reset","showPosts","container","postList","insertAdjacentHTML","map","join","hidePosts","postsToRemove","removeChild","btn","postsContainer","btnHideText","twoPosts","scrollIntoView","slice"],"mappings":"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","file":"main.min.js","sourcesContent":["function makeBackgrounds(body: HTMLBodyElement) {\n  const webPImg = new Image();\n  webPImg.src =\n    \"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA\";\n  webPImg.onload = webPImg.onerror = function () {\n    webPImg.height === 2\n      ? body.classList.add(\"webp-true\")\n      : body.classList.add(\"webp-false\");\n  };\n}\n","interface IValues {\n  [key: string]: string;\n}\n\ntype IFormElements = Array<HTMLFormElement> | Array<Element>;\n\ntype IFormElement = HTMLInputElement | HTMLButtonElement;\n\nfunction initForm() {\n  const form: HTMLFormElement = document.querySelector(\".contacts-form\");\n  const alert: HTMLDivElement = document.querySelector(\".alert\");\n  const alertText: HTMLParagraphElement = alert.querySelector(\".alert-text\");\n  const alertExitBtn: HTMLButtonElement = document.querySelector(\".alert-exit\");\n\n  const errorFieldClassName = \"contacts-field--error\";\n  const errorAlertClassName = \"alert--error\";\n  const successAlertClassName = \"alert--success\";\n  const showAlertClassName = \"alert-show\";\n\n  const successAlertText = \"Данные успешно отправлены!\";\n  const errorAlertText = \"Проверьте внимательно поля формы!\";\n\n  function showHelper(type: string) {\n    hideHelper();\n    if (type === \"error\") {\n      alertText.innerText = errorAlertText;\n      alert.classList.add(errorAlertClassName);\n    } else if (type === \"success\") {\n      alertText.innerText = successAlertText;\n      alert.classList.add(successAlertClassName);\n    }\n\n    alert.classList.add(showAlertClassName);\n  }\n\n  function hideHelper() {\n    alert.classList.remove(showAlertClassName);\n    alert.classList.remove(errorAlertClassName);\n    alert.classList.remove(successAlertClassName);\n    alertText.innerText = \"...\";\n  }\n\n  function validationFields(values: IValues) {\n    let check = true;\n\n    for (const key in values) {\n      if (values[key].trim() === \"\") {\n        document.getElementById(key).classList.add(errorFieldClassName);\n        check = false;\n      } else {\n        document.getElementById(key).classList.remove(errorFieldClassName);\n      }\n    }\n\n    return check;\n  }\n\n  function resetForm(fields: IFormElements) {\n    fields.forEach((element: IFormElement) => {\n      if (element.id) {\n        element.value = \"\";\n      }\n    });\n  }\n\n  function makeFormValues(fields: IFormElements) {\n    const formValues: IValues = {};\n\n    fields.forEach((element: IFormElement) => {\n      if (element.id) {\n        const key = element.id;\n        const value = element.value;\n        formValues[key] = value;\n      }\n    });\n\n    return formValues;\n  }\n\n  function submitHadler(e: SubmitEvent) {\n    e.preventDefault();\n    const submitBtn = form.querySelector(\"button\");\n    submitBtn.disabled = true;\n\n    const formFields: IFormElements = Array.from(form.children);\n    const formValues = makeFormValues(formFields);\n\n    if (validationFields(formValues)) {\n      console.log(formValues, \"!!!!!!!\");\n      showHelper(\"success\");\n      resetForm(formFields);\n      submitBtn.disabled = false;\n    } else {\n      showHelper(\"error\");\n      submitBtn.disabled = false;\n    }\n  }\n\n  form?.addEventListener(\"submit\", submitHadler);\n  alertExitBtn.addEventListener(\"click\", hideHelper);\n}\n","const tabletWidth = 767;\n\nfunction headerInit() {\n  const header: HTMLBaseElement = document.querySelector(\".header\");\n  const hero: HTMLBaseElement = document.querySelector(\".hero\");\n\n  const mobHeaderHeight = 90;\n  const headerHeight = 108;\n\n  const headerStaticClassName = \"header-static\";\n  const headerFixedClassName = \"header-fixed\";\n\n  function getHeaderHeight() {\n    if (window.innerWidth >= tabletWidth) {\n      return headerHeight;\n    } else {\n      return mobHeaderHeight;\n    }\n  }\n\n  function addHeroStyles(height: string, paddingTop: string) {\n    hero.style.paddingTop = paddingTop;\n    hero.style.height = height;\n  }\n\n  function addHeaderClassName(addClassName: string, removeClassName: string) {\n    header.classList.remove(removeClassName);\n    header.classList.add(addClassName);\n  }\n\n  function checkHeaderClassName(cn: string) {\n    return header.className.includes(cn);\n    // return header.className.indexOf(cn) >= 0;\n  }\n\n  function scrollHandler() {\n    if (window.scrollY > getHeaderHeight()) {\n      if (checkHeaderClassName(headerFixedClassName)) {\n        return;\n      }\n\n      addHeroStyles(\"100vh\", getHeaderHeight() + \"px\");\n      addHeaderClassName(headerFixedClassName, headerStaticClassName);\n    } else {\n      if (checkHeaderClassName(headerStaticClassName)) {\n        return;\n      }\n\n      addHeroStyles(window.innerHeight - getHeaderHeight() + \"px\", \"0\");\n      addHeaderClassName(headerStaticClassName, headerFixedClassName);\n    }\n  }\n\n  scrollHandler();\n\n  document.addEventListener(\"scroll\", scrollHandler);\n}\n","type IToDisElems =\n  | NodeListOf<HTMLButtonElement>\n  | NodeListOf<HTMLLinkElement>\n  | NodeListOf<HTMLInputElement>\n  | NodeListOf<HTMLTextAreaElement>;\n\nfunction initMenu(body: HTMLBodyElement) {\n  const menuBtn = document.querySelector(\".header-menu\");\n  const menu = document.querySelector(\".header-navigation\");\n  const menuActiveClassName = \"header-navigation--show\";\n  const activeLinkClassName = \"header-link--active\";\n  const btns: NodeListOf<HTMLButtonElement> = document.querySelectorAll(\n    \"button:not(.navigation-close)\"\n  );\n  const inputs: NodeListOf<HTMLInputElement> =\n    document.querySelectorAll(\"input\");\n  const textAreas = document.querySelectorAll(\"textarea\");\n  const sectionLinks: NodeListOf<HTMLLinkElement> = document.querySelectorAll(\n    \"a:not(.header-link)\"\n  );\n  const headerLinks: NodeListOf<HTMLLinkElement> =\n    document.querySelectorAll(\".header-link\");\n  const closeMenu: HTMLButtonElement =\n    document.querySelector(\".navigation-close\");\n\n  function disabledForElements(\n    elements: IToDisElems,\n    disabled = true,\n    tabIndex = -1\n  ) {\n    for (let i = 0; i < elements.length; i++) {\n      elements[i].disabled = disabled;\n      elements[i].tabIndex = tabIndex;\n    }\n  }\n\n  function showMenu() {\n    menu?.classList.add(menuActiveClassName);\n    body.style.overflowY = \"hidden\";\n    disabledForElements(btns);\n    disabledForElements(inputs);\n    disabledForElements(sectionLinks);\n    disabledForElements(textAreas);\n    closeMenu.disabled = false;\n    disabledForElements(headerLinks, false, 1);\n  }\n\n  menuBtn?.addEventListener(\"click\", showMenu);\n\n  function makeActiveLink(el: Element) {\n    const activeLink = menu.querySelector(\".\" + activeLinkClassName);\n\n    if (el.className === activeLink.className) {\n      return;\n    }\n\n    activeLink.classList.remove(activeLinkClassName);\n    el.classList.add(activeLinkClassName);\n  }\n\n  function hideMenu() {\n    menu?.classList.remove(menuActiveClassName);\n    body.style.overflowY = \"scroll\";\n    disabledForElements(btns, false, 1);\n    disabledForElements(inputs, false, 1);\n    disabledForElements(sectionLinks, false, 1);\n    disabledForElements(textAreas, false, 1);\n    closeMenu.disabled = true;\n    disabledForElements(headerLinks);\n  }\n\n  function clickHandler(e: Event) {\n    const targetEl = e.target as Element;\n\n    if (targetEl.tagName === \"NAV\" || targetEl.tagName === \"BUTTON\") {\n      hideMenu();\n      return;\n    }\n\n    if (targetEl.tagName === \"A\") {\n      makeActiveLink(targetEl);\n      hideMenu();\n    }\n  }\n\n  menu?.addEventListener(\"click\", clickHandler);\n\n  if (window.innerWidth <= tabletWidth) {\n    // нужна логика после перехода на таблет\n    disabledForElements(headerLinks);\n    closeMenu.disabled = true;\n  }\n\n  window.addEventListener(\"resize\", function () {\n    if (getComputedStyle(body).overflowY === \"scroll\") {\n      return;\n    }\n\n    menu?.classList.remove(menuActiveClassName);\n    body.style.overflowY = \"scroll\";\n    disabledForElements(headerLinks, false, 1);\n  });\n}\n","window.addEventListener(\"DOMContentLoaded\", () => {\n  const body = document.querySelector(\"body\");\n\n  initMenu(body);\n  initForm();\n  makeBackgrounds(body);\n  postsInit();\n  headerInit();\n});\n","interface IPost {\n  date: string;\n  theme: string;\n  title: string;\n  text: string;\n  jpgImg: string;\n  webpImg: string;\n}\n\nconst posts: IPost[] = [\n  {\n    date: \"JAN 4, 2016\",\n    theme: \"In Culture\",\n    title: \"POST-3\",\n    text: \" Lorem ipsum dolor, sit amet consectetur adipisicing elit. Laboriosam, laudantium nulla velit aliquam doloribus veniam consequatur? Culpa, suscipit dolor aperiam ea voluptatum voluptas doloribus nihil quasi earum quo facere officia? \\n  Lorem ipsum dolor sit amet consectetur adipisicing elit. Corrupti, eveniet!\",\n    jpgImg: \"img/feat-1.jpg\",\n    webpImg: \"img/feat-1.webp\",\n  },\n  {\n    date: \"JAN 4, 2016\",\n    theme: \"In Culture\",\n    title: \"POST-4\",\n    text: \" Lorem ipsum dolor, sit amet consectetur adipisicing elit. Laboriosam, laudantium nulla velit aliquam doloribus veniam consequatur? Culpa, suscipit dolor aperiam ea voluptatum voluptas doloribus nihil quasi earum quo facere officia? \\n  Lorem ipsum dolor sit amet consectetur adipisicing elit. Corrupti, eveniet!\",\n    jpgImg: \"img/feat-2.jpg\",\n    webpImg: \"img/feat-2.webp\",\n  },\n  {\n    date: \"JAN 4, 2016\",\n    theme: \"In Culture\",\n    title: \"POST-5\",\n    text: \" Lorem ipsum dolor, sit amet consectetur adipisicing elit. Laboriosam, laudantium nulla velit aliquam doloribus veniam consequatur? Culpa, suscipit dolor aperiam ea voluptatum voluptas doloribus nihil quasi earum quo facere officia? \\n  Lorem ipsum dolor sit amet consectetur adipisicing elit. Corrupti, eveniet!\",\n    jpgImg: \"img/feat-1.jpg\",\n    webpImg: \"img/feat-1.webp\",\n  },\n  {\n    date: \"JAN 4, 2016\",\n    theme: \"In Culture\",\n    title: \"POST-6\",\n    text: \" Lorem ipsum dolor, sit amet consectetur adipisicing elit. Laboriosam, laudantium nulla velit aliquam doloribus veniam consequatur? Culpa, suscipit dolor aperiam ea voluptatum voluptas doloribus nihil quasi earum quo facere officia? \\n  Lorem ipsum dolor sit amet consectetur adipisicing elit. Corrupti, eveniet!\",\n    jpgImg: \"img/feat-2.jpg\",\n    webpImg: \"img/feat-2.webp\",\n  },\n];\n\nfunction generatePostTemplate(post: IPost): string {\n  const sep = post.text.indexOf(\"\\n\");\n  const firstP = post.text.substring(0, sep);\n  const secondP = post.text.substring(sep, post.text.length - 1);\n  return `\n    <div class=\"features-post post\" data-post=\"post\">\n        <div class=\"post-content\">\n            <p class=\"post-date\">\n            <span>${post.date}</span><span>${post.theme}</span>\n            </p>\n            <h4 class=\"post-title subtitle\">${post.title}</h4>\n            <p class=\"post-text text\">\n            ${firstP}\n            </p>\n            <p class=\"post-text text\">\n            ${secondP}\n            </p>\n        </div>\n        <div class=\"post-picture\">\n            <picture>\n            <source srcset=\"${post.webpImg}\" type=\"image/webp\" />\n            <img \n            src=\"${post.jpgImg}\"\n            alt=\"${post.title.toLowerCase()} image!\" \n            />\n            </picture>\n        </div>\n    </div>\n    `;\n}\n\nfunction postCount() {\n  let count = 0;\n\n  return {\n    add: function () {\n      count = count + 2;\n      return count;\n    },\n    reset: function () {\n      count = 0;\n    },\n    value: function () {\n      return count;\n    },\n  };\n}\n\nfunction showPosts(container: Element, postList: IPost[]) {\n  container.insertAdjacentHTML(\n    \"beforeend\",\n    postList\n      .map((post: IPost): string => {\n        return generatePostTemplate(post);\n      })\n      .join(\"\")\n  );\n}\n\nfunction hidePosts(container: Element) {\n  const postsToRemove = document.querySelectorAll(\"div[data-post]\");\n\n  for (let i = 0; i < postsToRemove.length; i++) {\n    container.removeChild(postsToRemove[i]);\n  }\n}\n\nfunction postsInit() {\n  const btn: HTMLButtonElement = document.querySelector(\".posts-button\");\n  const postsContainer = document.querySelector(\".posts-wrapper\");\n  const count = postCount();\n\n  const btnShowText = \"Показать ещё\";\n  const btnHideText = \"Скрыть посты\";\n\n  function btnHandler() {\n    if (btn.innerText === btnHideText) {\n      count.reset();\n      hidePosts(postsContainer);\n\n      btn.innerText = btnShowText;\n      postsContainer.scrollIntoView();\n    } else {\n      const twoPosts = posts.slice(count.value(), count.add());\n      if (count.value() >= posts.length) {\n        btn.innerText = btnHideText;\n      }\n      showPosts(postsContainer, twoPosts);\n    }\n  }\n\n  btn.addEventListener(\"click\", btnHandler);\n}\n"]}